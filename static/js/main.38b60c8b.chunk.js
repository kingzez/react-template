(this["webpackJsonpreact-template"]=this["webpackJsonpreact-template"]||[]).push([[0],{182:function(e,t,n){e.exports=n.p+"static/media/wave-light.c858e3c9.png"},184:function(e,t,n){"use strict";n.r(t);n(97);var a=n(31),r=(n(370),n(74)),c=(n(292),n(130)),l=n(0),o=n.n(l),u=n(13),i=n(120),s=n(121),m=n(92),d=n(73),p=n.n(d);t.default=function(){var e=Object(u.d)();return o.a.createElement("div",{className:p.a.login},o.a.createElement("div",{className:p.a.card},o.a.createElement("div",{className:p.a.header},o.a.createElement("span",null,"\u6b22\u8fce\u767b\u5f55")),o.a.createElement("div",{className:p.a.body},o.a.createElement(r.a,{name:"basic",initialValues:{remember:!0},onFinish:function(t){console.log("Success:",t),e(m.a(t))},onFinishFailed:function(e){console.log("Failed:",e)}},o.a.createElement(r.a.Item,{name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d!"}]},o.a.createElement(c.a,{prefix:o.a.createElement(i.a,null),placeholder:"\u7528\u6237\u540d"})),o.a.createElement(r.a.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}]},o.a.createElement(c.a.Password,{prefix:o.a.createElement(s.a,null),type:"password",placeholder:"\u5bc6\u7801"})),o.a.createElement(r.a.Item,null,o.a.createElement(a.a,{type:"primary",block:!0,htmlType:"submit"},"\u767b\u5f55"))))))}},191:function(e,t,n){e.exports=n(369)},32:function(e,t,n){"use strict";t.a={LOGIN_REQUEST:"LOGIN_REQUEST",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAILURE:"LOGIN_FAILURE",LOGOUT_REQUEST:"LOGOUT_REQUEST",LOGOUT:"LOGOUT"}},368:function(e,t,n){},369:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),l=n.n(c),o=n(13),u=n(66),i=n(42);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(75);var s=n(29),m=(n(202),n(189)),d=(n(205),n(180)),p=(n(167),n(33)),E=(n(133),n(72)),h=n(120),g=n(168),f=n(169),O=n(170),_=n(92),b=n(43),v=n.n(b),y=s.a.Header,S=Object(o.c)((function(e){return{collapsed:e.collapsed}}),(function(e){return{toggle:function(){return e({type:"TOGGLE_SIDEBAR"})},close:function(){return e({type:"CLOSE_SIDEBAR"})}}}))((function(e){var t=Object(o.d)(),n=Object(o.e)((function(e){return e.user})),a=n.user.username;console.log(n);var c=r.a.createElement(p.a,{style:{width:120},onClick:function(e){var n=e.key;"logout"===n&&t(_.b()),"person"===n&&E.a.info("todo go ".concat(n))}},r.a.createElement(p.a.Item,{key:"person"},r.a.createElement(h.a,null),"\u4e2a\u4eba\u4e2d\u5fc3"),r.a.createElement(p.a.Item,{key:"logout"},r.a.createElement(g.a,null),"\u9000\u51fa\u767b\u5f55"));return r.a.createElement(y,{className:v.a.header,style:{background:"#fff",padding:0,boxShadow:"0 1px 4px rgba(0, 21, 41, 0.08)"}},r.a.createElement("div",{className:v.a.trigger,onClick:e.collapsed?e.close:e.toggle},e.collapsed?r.a.createElement(f.a,null):r.a.createElement(O.a,null)),r.a.createElement("div",{className:v.a.headerRight},r.a.createElement(d.a,{size:"small",icon:r.a.createElement(h.a,null)}),r.a.createElement(m.a,{overlay:c},r.a.createElement("span",{className:v.a.username},a))))})),I=n(128),L=n(372),w=n(9),N=function(){return r.a.createElement("div",null,"Loading...")},k=Object(a.lazy)((function(){return n.e(4).then(n.bind(null,377))})),T=Object(a.lazy)((function(){return Promise.resolve().then(n.bind(null,184))})),x=Object(a.lazy)((function(){return n.e(3).then(n.bind(null,379))})),j=Object(a.lazy)((function(){return n.e(5).then(n.bind(null,378))})),G=[{icon:"home",title:"Home",path:"/",exact:!0,component:k},{icon:"smile",title:"Nest",path:"/nest",exact:!1,children:[{icon:"user-add",title:"One",path:"/nest/one",exact:!0,component:function(){return r.a.createElement("div",null,"One")}},{icon:"usergroup-add",title:"Two",path:"/nest/two",exact:!0,component:function(){return r.a.createElement("div",null,"Two")}}]},{icon:"calculator",title:"Counter",path:"/counter",exact:!0,component:x},{icon:"code",title:"Login",path:"/login",exact:!0,component:T}];var R=r.a.createElement(a.Suspense,{fallback:r.a.createElement(N,null)},r.a.createElement(w.c,null,G.map((function(e){return function(e){return r.a.createElement(w.a,{key:e.path,exact:e.exact,path:e.path,component:e.component},e.children&&e.children.length>0?e.children.map((function(e){return r.a.createElement(w.a,{key:e.path,exact:e.exact,path:e.path,component:e.component})})):null)}(e)})),r.a.createElement(w.a,{component:j}))),U=n(182),C=n.n(U),A=function(){return r.a.createElement("div",{className:v.a.logo},r.a.createElement("img",{src:C.a,alt:"logo"}),r.a.createElement("h1",null,"React Admin"))},D=s.a.Sider,F=p.a.SubMenu,Q=Object(o.c)((function(e){return{collapsed:e.collapsed}}))((function(e){return r.a.createElement(D,{trigger:null,collapsible:!0,collapsed:e.collapsed,width:"240"},r.a.createElement(A,null),r.a.createElement(p.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["/"]},G.map((function(e){return e.children&&e.children.length>0?r.a.createElement(F,{key:e.path,title:r.a.createElement("span",null,r.a.createElement(L.a,{type:e.icon}),r.a.createElement("span",null,e.title))},e.children.map((function(e){return r.a.createElement(p.a.Item,{key:e.path},r.a.createElement(L.a,{type:e.icon}),r.a.createElement("span",null,e.title),r.a.createElement(I.a,{to:e.path}))}))):r.a.createElement(p.a.Item,{key:e.path},r.a.createElement(L.a,{type:e.icon}),r.a.createElement("span",null,e.title),r.a.createElement(I.a,{to:e.path}))}))))})),B=s.a.Content,P=function(){return r.a.createElement(B,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280}},R)},z=function(){return r.a.createElement(s.a,{style:{height:"100%"}},r.a.createElement(Q,null),r.a.createElement(s.a,null,r.a.createElement(S,null),r.a.createElement(P,null)))},J=n(184),H=function(){var e=Object(o.e)((function(e){return e.user.isAuthed}));return console.log("isAuthed",e),e?r.a.createElement(z,null):r.a.createElement(J.default,null)};n(368);l.a.render(r.a.createElement(o.a,{store:i.a},r.a.createElement(u.a,{history:i.b},r.a.createElement(H,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},42:function(e,t,n){"use strict";n.d(t,"b",(function(){return h}));var a=n(15),r=n(37),c=n(132),l=n(172),o=n(66),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCREMENT":return e+1;case"DECREMENT":return e-1;default:return e}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_SIDEBAR":return!0;case"CLOSE_SIDEBAR":return!1;default:return e}},s=n(95),m=n(32),d={isAuthed:!!localStorage.getItem("token"),user:JSON.parse(localStorage.getItem("user")||"{}"),token:localStorage.getItem("token")||""},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.a.LOGIN_REQUEST:return Object(s.a)({},e);case m.a.LOGIN_SUCCESS:return localStorage.setItem("user",JSON.stringify(t.user)),localStorage.setItem("token",t.user.sessionID),Object(s.a)({},e,{isAuthed:!0,user:t.user,token:t.user.sessionID});case m.a.LOGOUT:return localStorage.removeItem("user"),localStorage.removeItem("token"),Object(s.a)({},e,{isAuthed:!1,user:{},token:""});default:return e}},E=function(e){return Object(r.c)({router:Object(o.b)(e),count:u,user:p,collapsed:i})},h=Object(a.a)();var g=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.d;return Object(r.e)(E(h),e,t(Object(r.a)(Object(c.a)(h),l.a)))}();t.a=g},43:function(e,t,n){e.exports={header:"Layout_header__3S-SH",trigger:"Layout_trigger__vrsS-",headerRight:"Layout_headerRight__3wP_Q",username:"Layout_username__3km3e",logo:"Layout_logo__2dphr"}},73:function(e,t,n){e.exports={login:"Login_login__1b68E",card:"Login_card__2oTQl",header:"Login_header__2ABuJ",body:"Login_body__1FwTx"}},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return m}));var a=n(32),r=(n(133),n(72)),c=n(174),l=n.n(c),o=n(42),u=l.a.create({baseURL:"http://api.example.com",withCredentials:!0,timeout:5e3});u.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),u.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status&&o.b.push("/login"),console.log(e.response),403===e.response.status?r.a.error(e.response.data.msg):(r.a.error(e.message),console.error("Error: ".concat(e)),Promise.reject(e))}));var i=u;var s=function(e){var t=e.username,n=e.password;return function(e){var r,c;e((r={},{type:a.a.LOGIN_REQUEST,user:r})),(c={username:t,password:n},i({method:"POST",url:"/api/user/login",data:c})).then((function(t){e(function(e){return{type:a.a.LOGIN_SUCCESS,user:e}}(t.data)),o.b.push("/")})).catch((function(t){var n;e((n=t,{type:a.a.LOGIN_FAILURE,error:n}))}))}},m=function(){return{type:a.a.LOGOUT}}}},[[191,1,2]]]);
//# sourceMappingURL=main.38b60c8b.chunk.js.map